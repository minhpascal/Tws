<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <context:property-placeholder location="classpath:config.properties"/>

    <bean id="loggingEWrapper" class="com.tws.data.LoggingEWrapper"/>
    <bean id="eJavaSignal" class="com.ib.client.EJavaSignal"/>
    <bean id="connection" class="com.tws.data.Connection">
        <property name="signal" ref="eJavaSignal"/>
        <property name="wrapper" ref="loggingEWrapper"/>
        <property name="host" value="${tws.host}"/>
        <property name="port" value="${tws.port}"/>
        <property name="clientId" value="${tws.clientId}"/>
        <property name="asyncConnection" value="${tws.connection.async}"/>
        <property name="poolSize" value="${tws.connection.pool.size}"/>
    </bean>

    <bean id="app" class="com.tws.data.App">
        <property name="connection" ref="connection"/>
    </bean>

</beans>